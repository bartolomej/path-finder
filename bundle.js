!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(4)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(1),n(2),n(3);function s(e,t=0){return Math.round(Math.random()*(e-t)+t)}function i(e,t){for(let n=0;n<e.length;n++)"object"==typeof t&&e[n].equals(t)&&e.splice(n,1),"number"==typeof t&&e[n]===t&&e.slice(n,1)}function o(e){return new Promise(t=>{setTimeout(t,e)})}const r="unvisited",d="visited",h="start",l="end",a="wall",u="path";class c{constructor(e){this.id=e,this.edges=null,this.type=r,this.domElement=null,this.visited=!1}get strId(){return`${this.id[0]}-${this.id[1]}`}removeEdges(){for(let e=this.edges.length-1;e>=0;e--)this.removeEdge(this.edges[e])}isStartOrEnd(){return this.type===h||this.type===l}mark(e,t=!0){this.type=e,this.type===a&&t&&this.removeEdges(),this.updateDom()}invert(){this.type===a?this.mark(r):this.type===r&&this.mark(a),this.updateDom()}visitedNeighbours(){const e=[];for(let t of this.edges)t.visited&&e.push(t);return e}visitedSecondDegreeNeighbours(){const e=[];for(let t of this.edges)for(let n of t.edges)n.visited&&e.push(n);return e}unvisitedNeighbours(){const e=[];for(let t of this.edges)t.visited||e.push(t);return e}removeEdge(e){i(e.edges,this),i(this.edges,e)}equals(e){return this.id[0]===e.id[0]&&this.id[1]===e.id[1]}updateDom(){this.domElement&&(this.domElement.classList=[this.type])}generateDom(){this.domElement=document.createElement("td"),this.domElement.id=this.strId,this.domElement.class=this.type,this.updateDom()}static strIdToArray(e){return e.split("-").map(parseFloat)}}class m{constructor(e,t){this.parent=t,this.dimensions=e,this.nodes=[],this.edges=[],this.mouseDown=!1,this.overNode=null,this.domElement=null,this.startNode=null,this.endNode=null,this.draggingNodeType=null,this.prevOverNode=null,this.init()}init(){this.initializeNodes(),this.initializeEdges(),this.generateDom(this.parent),this.registerListeners()}handleUserInteraction(){const e=()=>{this.prevOverNode?(this.prevOverNode.mark(r),this.prevOverNode=this.overNode):this.prevOverNode=this.overNode};this.mouseDown&&(this.overNode.equals(this.startNode)||this.draggingNodeType===h)&&(this.draggingNodeType=h,this.overNode.mark(h),e()),this.mouseDown&&(this.overNode.equals(this.endNode)||this.draggingNodeType===l)?(this.draggingNodeType=l,this.overNode.mark(l),e()):this.mouseDown&&this.overNode.invert(),!this.mouseDown&&this.draggingNodeType&&(this.draggingNodeType=null,this.prevOverNode=null,this.overNode.type===h&&(this.startNode=this.overNode),this.overNode.type===l&&(this.endNode=this.overNode))}registerListeners(){this.parent.addEventListener("mousedown",this.onMouseDown.bind(this)),this.parent.addEventListener("mouseup",this.onMouseUp.bind(this)),this.onMouseOverNodeListeners()}onMouseOverNodeListeners(){for(let e=0;e<this.nodes.length;e++)for(let t=0;t<this.nodes[0].length;t++)this.nodes[e][t].domElement.addEventListener("mouseover",this.onMouseOverNode.bind(this))}onMouseOverNode(e){const t=c.strIdToArray(e.target.id);this.overNode=this.nodes[t[0]][t[1]],this.handleUserInteraction()}onMouseDown(){this.mouseDown=!0,this.handleUserInteraction()}onMouseUp(){this.mouseDown=!1,this.handleUserInteraction()}initializeNodes(){for(let e=0;e<this.dimensions[1];e++){const t=[];for(let n=0;n<this.dimensions[0];n++)t.push(new c([e,n]));this.nodes.push(t)}const e=Math.round(this.nodes.length/2),t=Math.round(this.nodes[0].length/3),n=this.nodes[0].length-t;this.startNode=this.nodes[e][t],this.startNode.mark(h),this.endNode=this.nodes[e][n],this.endNode.mark(l)}initializeEdges(){for(let e=0;e<this.nodes.length;e++)for(let t=0;t<this.nodes[0].length;t++){const n=this.nodes[e][t];n.edges=this.neighbors(n)}}generateDom(e){this.domElement=document.createElement("table"),e.appendChild(this.domElement);const t=document.createElement("tbody");this.domElement.appendChild(t);for(let e=0;e<this.nodes.length;e++){const n=document.createElement("tr");t.appendChild(n);for(let t=0;t<this.nodes[0].length;t++)this.nodes[e][t].generateDom(),n.appendChild(this.nodes[e][t].domElement)}}neighbors(e){const t=[],n=[[-1,0],[0,1],[1,0],[0,-1]];for(let s of n){const n=e.id[0]+s[0],i=e.id[1]+s[1];this.nodeExists([n,i])&&t.push(this.nodes[n][i])}return t}nodeExists(e){try{return void 0!==this.nodes[e[0]][e[1]]&&this.nodes[e[0]][e[1]].type!==a}catch{return!1}}}class p{constructor(e,t,n){this.title=e,this.options=t,this.parent=n,this.domElement=null,this.onInput=null,this.initDom(),this.render(),this.registerListeners()}initDom(){this.domElement=document.createElement("label");const e=document.createElement("span");e.innerText=this.title;const t=document.createElement("select");this.domElement.append(e,t),this.parent.append(this.domElement),t.appendChild(g(null,"None"))}registerListeners(){this.domElement.getElementsByTagName("select")[0].addEventListener("input",this.onInputHandler.bind(this))}onInputHandler(e){const t=e.target.value;"function"==typeof this.onInput&&this.onInput(t)}render(){const e=this.domElement.getElementsByTagName("select")[0];for(let t of this.options)document.getElementById(t.id)||e.appendChild(g(t.id,t.name))}}function g(e,t){const n=document.createElement("option");return n.id=e,n.value=e,n.innerText=t,n}const f={recursiveBacktrack:async function(e){for(let t=0;t<e.length;t++)for(let n=0;n<e[0].length;n++){t%5==0&&await o(1),e[t][n].isStartOrEnd()||e[t][n].mark(a,!1)}let t=e[0][0];t.visited=!0;let n=[t];for(;n.length>0;){await o(3);let e=t.unvisitedNeighbours(),i=e[s(e.length-1)];for(;i&&(i.visitedNeighbours().length>2||i.isStartOrEnd());){let t=s(e.length-1);i=e[t],e.splice(t,1)}i?(i.visited=!0,t.mark(r),n.push(t),t=i):n.length>0&&(t=n.pop())}for(let t=0;t<e.length;t++)for(let n=0;n<e[0].length;n++){const s=e[t][n];s.type===a&&s.removeEdges()}}},v={breathFirstSearch:async function(e,t){let n={},s=[e];n[e.strId]=e;for(;!n[t.strId];){let e=s.shift();e.isStartOrEnd()||e.mark(d);for(let t of e.edges)await o(5),n[t.strId]||(t.isStartOrEnd()||t.mark(d),s.push(t),n[t.strId]=e)}let i=t;for(;!i.equals(e);){await o(5);const e=n[i.strId];e.isStartOrEnd()||e.mark(u),i=e}}};let N,E,y;window.addEventListener("load",(async function(){E=document.getElementById("controls-container"),y=document.createElement("div"),y.id="grid-container",document.body.append(y),new p("Algorithms",[{name:"Breath First Search",id:"BFS"}],E).onInput=async function(e){"BFS"===e&&await v.breathFirstSearch(N.startNode,N.endNode)},new p("Wall patterns",[{name:"Recursive backtrack maze",id:"RBT"}],E).onInput=async function(e){"RBT"===e&&await f.recursiveBacktrack(N.nodes)},function(){const e=window.innerWidth/(window.innerHeight-E.clientHeight),t=40/(Math.round(10*e)/10);N=null,N=new m([40,t],y),window.grid=N}()}))}]);
//# sourceMappingURL=bundle.js.map