!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){t.exports=i(6)},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(1),i(2),i(3),i(4),i(5);const n="unvisited",s="visited",o="start",r="end",d="wall",a="path";class l{constructor(t){this.position=t,this.edges=null,this.weights={},this.type=n,this.domElement=null,this.visited=!1}get id(){return`${this.position[0]}-${this.position[1]}`}initWeights(){for(let t of this.edges)this.weights[t.id]=1}minNeighbour(){let t=1/0,e=null;for(let i of this.edges)this.weights[i.id]<t&&(t=this.weights[i.id],e=i);return e}neighbours(t=!1){let e=[];if(this.type===d)return[];for(let i of this.edges)(i.type!==d||t)&&e.push(i);return e}visitedNeighbours(){const t=[];for(let e of this.edges)e.visited&&t.push(e);return t}unvisitedNeighbours(t=!1){const e=[];for(let i of this.edges)i.visited||i.type===d&&!t||e.push(i);return e}isStartOrEnd(){return this.type===o||this.type===r}mark(t){this.type=t,this.updateDom()}invert(){this.type===d?this.mark(n):this.type===n&&this.mark(d),this.updateDom()}reset(){this.visited=!1,this.type=n,this.updateDom()}equals(t){return t.id===this.id}updateDom(){this.domElement&&(this.domElement.classList=[this.type])}generateDom(){this.domElement=document.createElement("td"),this.domElement.id=this.id,this.domElement.class=this.type,this.updateDom()}static strIdToArray(t){return t.split("-").map(parseFloat)}static softReset(t){for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)t[e][i].visited=!1}}function h(t,e=0){return Math.round(Math.random()*(t-e)+e)}function c(t){return new Promise(e=>{setTimeout(e,t)})}class u{constructor(t,e){this.nodes=e,this.parent=t,this.overNode=null,this.prevOverNode=null,this.mouseDown=!1,this.clickedTimestamp=null,this.onNodeOver=null,this.onNodeDrag=null,this.onNodeClick=null,this.registerListeners()}registerListeners(){this.parent.addEventListener("mousedown",this.onMouseDown.bind(this)),this.parent.addEventListener("mouseup",this.onMouseUp.bind(this)),this.onMouseOverNodeListeners()}onMouseOverNodeListeners(){for(let t=0;t<this.nodes.length;t++)for(let e=0;e<this.nodes[0].length;e++)this.nodes[t][e].domElement.addEventListener("mouseover",this.onMouseOverNode.bind(this))}onMouseOverNode(t){const e=l.strIdToArray(t.target.id);this.overNode=this.nodes[e[0]][e[1]],this.prevOverNode||(this.prevOverNode=this.overNode),m(this.onNodeOver,this.overNode),this.dragNode&&this.mouseDown&&m(this.onNodeDrag,[this.dragNode,this.overNode,this.prevOverNode]),this.prevOverNode=this.overNode}onMouseDown(t){var e;this.clickedTimestamp=t.timeStamp,this.mouseDown=!0,this.dragNode=null,this.dragNode=(e=this.overNode,Object.assign(Object.create(Object.getPrototypeOf(e)),e))}onMouseUp(t){this.mouseDown=!1,t.timeStamp-this.clickedTimestamp<500&&m(this.onNodeClick,this.overNode)}}function m(t,e){t&&"function"==typeof t&&(e instanceof Array?t.apply(null,e):t.apply(null,[e]))}class p{constructor(t,e){this.parent=e,this.dimensions=t,this.nodes=[],this.domElement=null,this.startNode=null,this.endNode=null,this.interaction=null}init(){if(!this.parent)throw new Error("Parent not set");this.initializeNodes(),this.initStartEndNodes(),this.initializeEdges(),this.generateDom(this.parent),this.initInteraction()}initInteraction(){this.interaction=new u(this.parent,this.nodes),this.interaction.onNodeDrag=(t,e,i)=>{const s=t.type;s!==o&&s!==r||(e.mark(s),i.mark(n),s===o&&(this.startNode=e),s===r&&(this.endNode=e)),e.isStartOrEnd()||t.isStartOrEnd()||e.invert()},this.interaction.onNodeClick=t=>{t.isStartOrEnd()||t.invert()}}resetPath(){for(let t=0;t<this.nodes.length;t++)for(let e=0;e<this.nodes[0].length;e++){const i=this.nodes[t][e];i.type===d||i.isStartOrEnd()||i.reset()}}reset(){for(let t=0;t<this.nodes.length;t++)for(let e=0;e<this.nodes[0].length;e++){this.nodes[t][e].reset()}this.initStartEndNodes()}initializeNodes(){for(let t=0;t<this.dimensions[1];t++){const e=[];for(let i=0;i<this.dimensions[0];i++)e.push(new l([t,i]));this.nodes.push(e)}}initStartEndNodes(){const t=Math.round(this.nodes.length/2),e=Math.round(this.nodes[0].length/3),i=this.nodes[0].length-e;this.startNode=this.nodes[t][e],this.startNode.mark(o),this.endNode=this.nodes[t][i],this.endNode.mark(r)}initializeEdges(){for(let t=0;t<this.nodes.length;t++)for(let e=0;e<this.nodes[0].length;e++){const i=this.nodes[t][e];i.edges=this.neighbors(i)}}generateDom(t){this.domElement=document.createElement("table"),t.appendChild(this.domElement);const e=document.createElement("tbody");this.domElement.appendChild(e);for(let t=0;t<this.nodes.length;t++){const i=document.createElement("tr");e.appendChild(i);for(let e=0;e<this.nodes[0].length;e++)this.nodes[t][e].generateDom(),i.appendChild(this.nodes[t][e].domElement)}}neighbors(t){const e=[],i=[[-1,0],[0,1],[1,0],[0,-1]];for(let n of i){const i=t.position[0]+n[0],s=t.position[1]+n[1];this.nodeExists([i,s])&&e.push(this.nodes[i][s])}return e}nodeExists(t){try{return void 0!==this.nodes[t[0]][t[1]]&&this.nodes[t[0]][t[1]].type!==d}catch{return!1}}}const g={recursiveBacktrack:async function(t){for(let e=0;e<t.length;e++)for(let i=0;i<t[0].length;i++){e%5==0&&await c(1),t[e][i].isStartOrEnd()||t[e][i].mark(d)}let e=t[0][0];e.visited=!0;let i=[e];for(;i.length>0;){await c(1);let t=e.unvisitedNeighbours(!0),s=t[h(t.length-1)];for(;s&&(s.visitedNeighbours().length>2||s.isStartOrEnd());){let e=h(t.length-1);s=t[e],t.splice(e,1)}s?(s.visited=!0,e.mark(n),i.push(e),e=s):i.length>0&&(e=i.pop())}l.softReset(t)}},f={breathFirstSearch:async function(t,e){let i={},n=[t];i[t.id]=t;for(;!i[e.id];){let t=n.shift();if(void 0===t)throw new Error("Path doesn't exist");t.isStartOrEnd()||t.mark(s);for(let e of t.neighbours())await c(3),i[e.id]||(e.isStartOrEnd()||e.mark(s),n.push(e),i[e.id]=t)}await v(i,e,t)},depthFirstSearch:async function(t,e){let i={},n=[t];i[t.id]=t,t.visited=!0;let o=t;for(;!i[e.id];){if(void 0===o)throw new Error("Path doesn't exist");let t=o.unvisitedNeighbours();if(await c(3),0===t.length)o=n.pop();else{const r=t[0];o.visited=!0,i[r.id]=o,n.push(r),o=n[n.length-1],o.equals(e)||o.mark(s)}}await v(i,e,t)},dijkstra:async function(t,e,i){let n={},o={},r={};r[e.id]=0;let d=e;for(let e of t)for(let t of e)t.initWeights(),r[t.id]=1/0,o[t.id]=!0;for(;!n[i.id];){d=d.minNeighbour();for(let t of d.neighbours()){if(n[t.id])continue;let e=r[d.id]+d.weights[t.id];e<r[t.id]&&(r[t.id]=e),n[t.id]=!0,await c(2),d.mark(s)}}return r}};async function v(t,e,i){for(;!e.equals(i);){await c(5);const i=t[e.id];i.isStartOrEnd()||i.mark(a),e=i}}var w=[{url:"https://www.redblobgames.com/",canonical:"https://www.redblobgames.com/",title:"Red Blob Games",description:"Interactive tutorials for math and algorithms",image:"https://www.redblobgames.com/img/red-blob-2d.png"},{url:"https://anvaka.github.io/pm/#/?_k=qupjwr",author:"Andrei Kashcha",image:"http://raw.githubusercontent.com/wiki/anvaka/pm/images/nuget_fly_first.png",title:"Code Galaxies Visualization"},{url:"https://anvaka.github.io/city-roads",title:"Draw all roads in any city at once",image:"https://i.imgur.com/Fbbe5a6.png",description:"This website allows you to select a city and then draws every single road on a screen.",author:"Andrei Kashcha"},{url:"https://www.debuggex.com/",image:"regex.png",description:"Test your regex by visualizing it with a live editor. JavaScript, Python, and PCRE.",author:"Sergiu Toarca",title:"Debuggex: Online visual regex tester. JavaScript, Python, and PCRE."},{url:"https://www.data-to-viz.com/graph/network.html",description:"An extensive description of Network diagram. Definition, examples, input data, common caveats, tool to build it and potential alternatives.",author:"Yan Holtz and Conor Healy",title:"Network diagram",image:"https://github.com/holtzy/data_to_viz/raw/master/img/section/NetworkSmall.png"},{url:"http://graphviz.it/#/gallery/mike.gv",image:"graphviz.png",description:"Interactive Graphviz editor with neat animations",title:"Graphviz it! - fiddle with diagrams"}];let y,b;function E(){!function(){const t=document.getElementsByClassName("modal-inner")[0].children;for(let e of t)e.classList.remove("float-out"),e.classList.remove("float-in")}(),n(-1,0),$("#intro-modal").modal({fadeDuration:700,fadeDelay:.3});const t=document.querySelectorAll("button.has-next"),e=document.querySelectorAll("button.has-prev"),i=document.getElementById("close-modal");function n(t=-1,e=0){const i=document.getElementsByClassName("modal-inner")[0],n=i.children[e],s=i.children[t]||null;e>t&&(n.classList.add("float-in"),s&&s.classList.replace("float-in","float-out")),e<t&&(n.classList.replace("float-out","float-in"),s.classList.remove("float-in"))}t.forEach((t,e)=>t.addEventListener("click",t=>n(e,e+1))),e.forEach((t,e)=>t.addEventListener("click",t=>n(e+1,e))),i.addEventListener("click",()=>{$("#intro-modal").modal("toggle"),$(".jquery-modal").fadeOut("normal")})}window.addEventListener("load",(async function(){y=easydropdown("#algorithms-input",{callbacks:{onSelect:async t=>{grid.resetPath();try{"bfs"===t&&await f.breathFirstSearch(grid.startNode,grid.endNode),"dfs"===t&&await f.depthFirstSearch(grid.startNode,grid.endNode),"djk"===t&&await f.dijkstra(grid.nodes,grid.startNode,grid.endNode)}catch(t){!function(t){const e=document.createElement("div");e.classList.add("alert");const i=document.createElement("span");i.innerText=t,e.appendChild(i),document.body.appendChild(e),setTimeout(()=>{e.style.display="none"},3500)}(t.message)}}}}),b=easydropdown("#patterns-input",{callbacks:{onSelect:async t=>{grid.resetPath(),"bm"===t&&await g.recursiveBacktrack(grid.nodes)}}}),easydropdown.all(),document.getElementById("reset").addEventListener("click",()=>{window.grid.reset(),y.value="none",b.value="none"}),document.getElementById("about").addEventListener("click",()=>{E()}),function(){const t=document.createElement("div"),e=document.getElementById("controls-container");t.id="grid-container",document.getElementById("container").append(t);const i=window.innerWidth/(window.innerHeight-e.clientHeight),n=50/(Math.round(10*i)/10),s=new p([50,n],t);s.init(),window.grid=s}(),function(){const t=document.getElementById("cool-links"),e=document.createElement("h1");e.innerText="ðŸ”¥ Awesome projects ðŸ”¥",t.appendChild(e);const i=document.createElement("div");i.classList.add("link-list"),t.appendChild(i);for(let t of w)i.appendChild(s(t));const n=document.createElement("div");function s(t){const e=document.createElement("a");e.href=t.url,e.target="_blank",e.classList.add("link-item");const i=document.createElement("img");if(i.src=t.image||"https://retohercules.com/images/link-png-icon-1.png",e.appendChild(i),t.title){const i=document.createElement("span");i.innerText=t.title,e.appendChild(i)}if(t.description){const i=document.createElement("p");i.innerText=t.description,e.appendChild(i)}return e}n.innerHTML='\n    <button class="naked has-prev">Back</button>\n    <button class="has-next">Next</button>\n  ',t.appendChild(n)}(),E()}))}]);
//# sourceMappingURL=bundle.js.map